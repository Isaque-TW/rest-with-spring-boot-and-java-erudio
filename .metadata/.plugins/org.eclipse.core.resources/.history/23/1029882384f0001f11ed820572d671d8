# Testando a Camada de RepositÃ³rios de uma AplicaÃ§Ã£o Spring Boot

Nesta sessÃ£o, vamos mergulhar em uma sÃ©rie de tÃ³picos que irÃ£o expandir seus conhecimentos sobre o desenvolvimento de aplicaÃ§Ãµes com o Spring Boot.

## ğŸ“Œ TÃ³picos abordados

### ğŸ”¹ NotaÃ§Ã£o `@DataJpaTest`
A notaÃ§Ã£o `@DataJpaTest` Ã© muito Ãºtil para testar o comportamento de repositÃ³rios JPA. Ela configura um ambiente mÃ­nimo necessÃ¡rio para testar a camada de persistÃªncia, desativando componentes desnecessÃ¡rios, como controllers e serviÃ§os.

### ğŸ”¹ Uso do Banco de Dados em MemÃ³ria (H2)
Aprenderemos como reestruturar nossa aplicaÃ§Ã£o para suportar um banco de dados em memÃ³ria usando o **H2**. Isso permitirÃ¡ executar testes mais rÃ¡pidos e independentes do banco de dados real.

### ğŸ”¹ Testando operaÃ§Ãµes CRUD
Exploraremos como testar as principais operaÃ§Ãµes de **Create, Read, Update e Delete (CRUD)** de forma automatizada. Isso garante a consistÃªncia dos dados e a funcionalidade correta das operaÃ§Ãµes.

### ğŸ”¹ Testando consultas personalizadas
Aprenderemos a testar a operaÃ§Ã£o de busca de pessoas por e-mail usando o recurso de **Query Methods** do Spring Data JPA. TambÃ©m veremos como definir consultas personalizadas e validar os resultados corretamente.

Cada tÃ³pico serÃ¡ acompanhado de **exemplos prÃ¡ticos** e **discussÃµes teÃ³ricas** para facilitar a compreensÃ£o.

---
ğŸ“Œ *Este repositÃ³rio faz parte de um estudo aprofundado sobre testes na camada de repositÃ³rios com Spring Boot.* ğŸš€

# ğŸ“Œ Testando RepositÃ³rios no Spring Boot

## ğŸ“– IntroduÃ§Ã£o

Nessa aula, iremos aprender os **conceitos por trÃ¡s dos testes de repositÃ³rios**.

## ğŸ— Arquitetura da AplicaÃ§Ã£o

Abaixo, temos uma arquitetura tÃ­pica de uma aplicaÃ§Ã£o **Spring Boot MVC**, onde diferentes camadas se comunicam:
![img.png](img.png)

- **Controller Layer** â†’ ResponsÃ¡vel por receber requisiÃ§Ãµes HTTP e interagir com a camada de serviÃ§os.
- **Service Layer** â†’ ContÃ©m a lÃ³gica de negÃ³cio da aplicaÃ§Ã£o.
- **Repository Layer** â†’ Gerencia a persistÃªncia dos dados, interagindo com o banco de dados.
- **Database** â†’ Armazena as informaÃ§Ãµes e Ã© acessado pela camada de repositÃ³rios.

ğŸ“Œ Essa estrutura permite **separaÃ§Ã£o de responsabilidades** e facilita a manutenÃ§Ã£o do cÃ³digo.

---

ğŸ“¢ **Nos prÃ³ximos tÃ³picos, vamos explorar como testar a camada de repositÃ³rios utilizando Spring Data JPA!** ğŸš€

## ğŸ› ï¸ Testando a Camada de RepositÃ³rios

Quando testamos a **camada de repositÃ³rios**, devemos isolÃ¡-la das outras camadas. Isso significa que:

âŒ **NÃ£o testamos a camada de serviÃ§os (Service Layer).**  
âŒ **NÃ£o testamos a camada de controladores (Controller Layer).**  
âœ… **Focamos exclusivamente na Repository Layer.**

---

## ğŸ— Banco de Dados em MemÃ³ria com @DataJpaTest

ğŸ“Œ **Por que nÃ£o usamos um banco de dados real?**  
Ao testar os repositÃ³rios, nÃ£o Ã© necessÃ¡rio se conectar a um banco de dados fÃ­sico. Para isso, utilizamos a anotaÃ§Ã£o `@DataJpaTest`, que:

âœ” **Configura automaticamente um banco de dados em memÃ³ria (H2).**  
âœ” **Facilita testes rÃ¡pidos e isolados.**  
âœ” **Permite testar operaÃ§Ãµes de repositÃ³rio sem dependÃªncia externa.**

ğŸ” **E o Mockito?**  
NÃ£o utilizamos **Mockito** aqui, pois **nÃ£o precisamos mockar o banco de dados**. O `@DataJpaTest` jÃ¡ fornece um ambiente controlado para os testes.

---

## âš ï¸ Desvantagens dessa Abordagem

Embora essa abordagem seja Ãºtil, **existem algumas limitaÃ§Ãµes**.  
Mais adiante, exploraremos esses pontos com mais detalhes. Por enquanto, vamos aprender como utilizÃ¡-la corretamente! ğŸš€  
